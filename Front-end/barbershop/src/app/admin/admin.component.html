<body style="zoom: 150%;">

	<head>
		
		<meta charset="utf-8">
	  	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	  	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	  	<meta name="description" content="Barbershop Booking Website">
	  	<meta name="author" content="JAIRI IDRISS">

  		<title>Dashboard</title>

  		

	</head >

	<body id="page-top">

  		<!-- Page Wrapper -->
  		<div id="wrapper">
		
			<!-- Sidebar -->
			<ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

		  		<!-- Sidebar - Brand -->
		  		<a class="sidebar-brand d-flex align-items-center justify-content-center" href="">
					<div class="sidebar-brand-icon rotate-n-15">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-scissors" viewBox="0 0 16 16">
							<path d="M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61 3.5 3.5zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zm7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"/>
						  </svg>					</div>
						  
					<div class="sidebar-brand-text mx-3">Barbershop</div>
					
		  		</a>

		  		<!-- Divider -->
		  	
			  	<!-- Nav Item - Dashboard -->
			  	<li class="nav-item active">
					<a class="nav-link" href="index.php">
				  		<i class="fas fa-fw fa-tachometer-alt"></i>
				  		<span>Dashboard</span>
				  	</a>
			  	</li>

	  			<!-- Divider -->
	  			<hr class="sidebar-divider">

	  			<!-- Heading -->
	  			<div class="sidebar-heading">
					SERVICES & SAMPLES
	  			</div>

	  			<!-- Nav Item - Pages Collapse Menu -->
	  			<li class="nav-item">
					<a class="nav-link" href="service-categories.php">
		  				<i class="fas fa-list"></i>
		  				<span>Service Categories</span>
		  			</a>
	  			</li>
	  			<li class="nav-item">
					<a class="nav-link" [routerLink]="['/services_admin']">
						<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" class="bi bi-scissors" viewBox="0 0 16 16">
							<path d="M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61 3.5 3.5zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0zm7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"/>
						  </svg>		  				<span>Services</span>
		  			</a>
	  			</li>
	  			<li class="nav-item">
					<a class="nav-link" href="#">
		  				<i class="far fa-image"></i>
		  				<span>Samples</span>
		  			</a>
	  			</li>
			  	

	  			<!-- Divider -->
	  			<hr class="sidebar-divider">

	  			<!-- Heading -->
	  			<div class="sidebar-heading">
					CLIENTS & STAFF
	  			</div>

	  			<!-- Nav Item - Charts -->
	  			<li class="nav-item">
					<a class="nav-link" [routerLink]="['/client_admin']">
		  				<i class="far fa-address-card"></i>
		  				<span>Clients</span>
		  			</a>
	  			</li>
	  			<li class="nav-item">
					<a class="nav-link" [routerLink]="['/employee_admin']">
		  				<i class="far fa-user"></i>
		  				<span>Employees</span>
		  			</a>
	  			</li>
	  			<li class="nav-item">
					<a class="nav-link" [routerLink]="['/employeesschedule']">
		  				<i class="fas fa-calendar-week icon-ver"></i>
		  				<span>Employees Schedule</span>
		  			</a>
	  			</li>
	  
	  			<!-- Divider -->
	  			<hr class="sidebar-divider d-none d-md-block">

	  			<!-- Sidebar Toggler (Sidebar) -->
	  		
			</ul>
			
			<!-- End of Sidebar -->

			<!-- Content Wrapper -->
			<div id="content-wrapper" class="d-flex flex-column">
			  
			  	<!-- Main Content -->
			  	<div id="content">
					
					<!-- Topbar -->
					<nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow">
					  
					 	<!-- Sidebar Toggle (Topbar) -->
					  	<button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
							<i class="fa fa-bars"></i>
					  	</button>

					  	<!-- Topbar Navbar -->
					  	<ul class="navbar-nav ml-auto">
							<li class="nav-item">
		              			<a class="nav-link" href="../" target="_blank">
		              				<i class="far fa-eye"></i>
		                			<span style="margin-left: 5px;">View website</span>
		              			</a>
		          			</li>
							<div class="topbar-divider d-none d-sm-block"></div>

							<!-- Nav Item - User Information -->
							<li class="nav-item dropdown no-arrow">
					  			<a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
									<span class="mr-2 d-none d-lg-inline text-gray-600 small">
										jairiidriss									</span>
									<i class="fas fa-caret-down"></i>
								</a>
							  	
							  	<!-- Dropdown - User Information -->
							  	<div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
									<a class="dropdown-item" href="#">
								  		<i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
								  		Profile
									</a>
									<a class="dropdown-item" href="#">
								  		<i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
								  		Settings
									</a>
									<a class="dropdown-item" href="#">
								  		<i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
								  		Activity Log
									</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
								  		<i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
								  		Logout
									</a>
							  	</div>
							</li>
				  		</ul>
					</nav>
					<!-- End of Topbar -->

		<!-- Begin Page Content -->
	<div class="container-fluid">
		
		<!-- Page Heading -->
		<div class="d-sm-flex align-items-center justify-content-between mb-4">
			<h1 class="h3 mb-0 text-gray-800">Dashboard</h1>
			<a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm">
				<i class="fas fa-download fa-sm text-white-50"></i>
				Generate Report
			</a>
		</div>

		<!-- Content Row -->
		<div class="row">

			<div class="col-xl-3 col-md-6 mb-4">
				<div class="card border-left-primary shadow h-100 py-2">
					<div class="card-body">
				  		<div class="row no-gutters align-items-center">
							<div class="col mr-2">
					  			<div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
					  				Total Clients
					  			</div>
								  <div class="h5 mb-0 font-weight-bold text-gray-800">{{ ClientList.length}}</div>
								</div>
							<div class="col-auto">
                                <i style='font-size:20px' class='fas'>&#xf406;</i>
							</div>
				  		</div>
					</div>
			  	</div>
			</div>

			<div class="col-xl-3 col-md-6 mb-4">
				<div class="card border-left-success shadow h-100 py-2">
					<div class="card-body">
				  		<div class="row no-gutters align-items-center">
							<div class="col mr-2">
					  			<div class="text-xs font-weight-bold text-success text-uppercase mb-1">
					  				Total Services
					  			</div>
					  			<div class="h5 mb-0 font-weight-bold text-gray-800">{{Serviceslist.length}}</div>
							</div>
							<div >
                                <i style='font-size:20px' class='fas'>&#xf0c4;</i>
							</div>
				  		</div>
					</div>
			  	</div>
			</div>

			<div class="col-xl-3 col-md-6 mb-4">
				<div class="card border-left-info shadow h-100 py-2">
					<div class="card-body">
				  		<div class="row no-gutters align-items-center">
							<div class="col mr-2">
					  			<div class="text-xs font-weight-bold text-info text-uppercase mb-1">
					  				Employees
					  			</div>
					  			<div class="row no-gutters align-items-center">
									<div class="col-auto">
						  				<div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">{{EmployeeList.length}}</div>
									</div>
					  			</div>
							</div>
							<div class="col-auto">
                                <i style='font-size:20px' class='fas'>&#xf508;</i>
							</div>
				  		</div>
					</div>
			  	</div>
			</div>

			<div class="col-xl-3 col-md-6 mb-4">
				<div class="card border-left-warning shadow h-100 py-2">
					<div class="card-body">
				  		<div class="row no-gutters align-items-center">
							<div class="col mr-2">
					  			<div class="text-xs font-weight-bold text-warning text-uppercase mb-1">
					  				Appointments
					  			</div>
					  			<div class="h5 mb-0 font-weight-bold text-gray-800">{{appointmentsForToday.length}}</div>
							</div>
							<div class="col-auto">
                                <i style='font-size:20px' class='fas'>&#xf073;</i>
                                
							</div>
				 		</div>
					</div>
			  	</div>
			</div>
		</div>
		
		<!-- Appointment Tables -->
        
        <div class="card shadow mb-4" style="">
            <div class="card-header tab" style="padding: 0px !important;background: #36b9cc!important">
            	<button class="tablinks active" onclick="openTab(event, 'Upcoming')">
            		Upcoming Bookings
            	</button>
                <button class="tablinks" onclick="openTab(event, 'All')">
                	All Bookings
                </button>
                <button class="tablinks" onclick="openTab(event, 'Canceled')">
                	Canceled Bookings
                </button>
            </div>
            <div class="card-body">
            	<div class="table-responsive">
                	<table class="table table-bordered tabcontent" id="Upcoming" style="display:table" width="100%" cellspacing="0">
                  		<thead>
                                <tr>
									<th>
										Date Created									</th>
                                    <th>
                                        Start Time

                                    </th>
                                    <th>
                                        End Time Expected
                                    </th>
                                   
                                    <th>
                                        Client
                                    </th>
                                    <th>
                                        Employee
                                    </th>
                                    <th>
                                        Booked Services	
                                    </th>
									<th>
										Mange
									</th>
                                </tr>
                            </thead>
					
							<tbody>
								<ng-container *ngFor="let appointment of appointmentsWithClients">
										
									<tr *ngIf="appointment.canceled === 0 && isFutureAppointment(appointment.start_time)">
										
								  <td>{{ appointment.date_created | date:'dd/MM/yyyy HH:mm:ss' }}</td>
								  <td>{{ appointment.start_time | date:'dd/MM/yyyy HH:mm:ss' }}</td>
								  <td>{{ appointment.end_time_expected | date:'dd/MM/yyyy HH:mm:ss' }}</td>
								  <td>{{ appointment.client_firstName }} {{ appointment.client_lastName }}</td>
								  <td>{{ appointment.employee_firstName }} {{ appointment.employee_lastName }}</td>
								  <td>
									<ul *ngIf="appointment.services && appointment.services.length > 0">
									  <li *ngFor="let serviceName of appointment.services">+{{ serviceName }}</li>
									</ul>
									<p *ngIf="!appointment.services || appointment.services.length === 0">No services booked.</p>
								  </td>
								  <td>
									
									<!-- CANCEL MODAL -->
									<li class="list-inline-item" data-toggle="tooltip" title="Cancel Appointment">
										<button class="btn btn-danger btn-sm rounded-0" type="button" data-toggle="modal" data-target="#cancel" data-placement="top">
											<i class="fas fa-calendar-times"></i>
									  </button>
									</li>
									<!-- CANCEL MODAL -->
									<div class="modal fade" id="cancel" tabindex="-1" role="dialog" aria-labelledby="cancel" aria-hidden="true">
										<div class="modal-dialog" role="document">
										<div class="modal-content">
										  <div class="modal-header">
											<h5 class="modal-title" id="cancelModalLabel">Cancel Appointment</h5>
											<button type="button" class="close" data-dismiss="modal" aria-label="Close">
											  <span aria-hidden="true">&times;</span>
											</button>
										  </div>
										  <div class="modal-body">
											<p>Are you sure you want to cancel this appointment?</p>
											<div class="form-group">
											  <label>Tell Us Why?</label>
											  <input class="form-control" [(ngModel)]="cancellationReason" id="cancellationReason">
											</div>
										  </div>
										  <div class="modal-footer" data-toggle="modal"data-target="#cancel">
											<form (submit)="cancelAppointment(appointment.appointment_id)">
											  <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
											  <button type="submit" id="cancelAppointmentButton" class="btn btn-danger">Yes, Cancel</button>
											</form>
										  </div>
										</div>
									  </div>
									</div>
								  </td>
								</tr>
							</ng-container>

							  </tbody>
							  
                	</table>
					
					

                	<table class="table table-bordered tabcontent" id="All" width="100%" cellspacing="0">
                  		<thead>
                            <tr>
                                <th>
                                    Start Time
                                </th>
                                <th>
                                    Booked Services
                                </th>
                                <th>
                                    End Time Expected
                                </th>
                                <th>
                                    Client
                                </th>
                                <th>
                                    Employee
                                </th>
								<th>
									Booked Services	
								</th>
								<th>
									Mange
								</th>
                            </tr>
                        </thead>
						<tbody>
							<ng-container *ngFor="let appointment of appointmentsWithClients">
								<tr *ngIf="appointment.canceled === 0 ">
								
							  <td>{{ appointment.date_created | date:'dd/MM/yyyy HH:mm:ss' }}</td>
							  <td>{{ appointment.start_time | date:'dd/MM/yyyy HH:mm:ss' }}</td>
							  <td>{{ appointment.end_time_expected | date:'dd/MM/yyyy HH:mm:ss' }}</td>
							  <td>{{ appointment.client_firstName }} {{ appointment.client_lastName }}</td>
							  <td>{{ appointment.employee_firstName }} {{ appointment.employee_lastName }}</td>
							  <td>
								<ul *ngIf="appointment.services && appointment.services.length > 0">
								  <li *ngFor="let serviceName of appointment.services">+{{ serviceName }}</li>
								</ul>
								<p *ngIf="!appointment.services || appointment.services.length === 0">No services booked.</p>
							  </td>
							  <td>
								
								<!-- CANCEL MODAL -->
								<li class="list-inline-item" data-toggle="tooltip" title="Cancel Appointment">
									<button class="btn btn-danger btn-sm rounded-0" type="button" data-toggle="modal" data-target="#cancel" data-placement="top">
										<i class="fas fa-calendar-times"></i>
								  </button>
								</li>
								<!-- CANCEL MODAL -->
								<div class="modal fade" id="cancel" tabindex="-1" role="dialog" aria-labelledby="cancel" aria-hidden="true">
									<div class="modal-dialog" role="document">
									<div class="modal-content">
									  <div class="modal-header">
										<h5 class="modal-title" id="cancelModalLabel">Cancel Appointment</h5>
										<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										  <span aria-hidden="true">&times;</span>
										</button>
									  </div>
									  <div class="modal-body">
										<p>Are you sure you want to cancel this appointment?</p>
										<div class="form-group">
										  <label>Tell Us Why?</label>
										  <input class="form-control" [(ngModel)]="cancellationReason" id="cancellationReason">
										</div>
									  </div>
									  <div class="modal-footer" data-toggle="modal"data-target="#cancel">
										<form (submit)="cancelAppointment(appointment.appointment_id)">
										  <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
										  <button type="submit" id="cancelAppointmentButton" class="btn btn-danger">Yes, Cancel</button>
										</form>
									  </div>
									</div>
								  </div>
								</div>
							  </td>
							</tr>
						</ng-container>

						  </tbody>
						  
				
                	</table>
                	<table class="table table-bordered tabcontent" id="Canceled" width="100%" cellspacing="0">
                  		<thead>
                            <tr>
                                <th>
                                    Start Time
                                </th>
                                <th>
                                    Client
                                </th>
                                <th>
                                    Cancellation Reason
                                </th>
                            </tr>
                        </thead>
                        <tbody>
							
							<tr *ngFor="let appointment of Appointmentscancled">
								<td>{{ appointment.start_time | date:'dd/MM/yyyy HH:mm:ss' }}</td>
								<td>{{ appointment.client_firstName }} {{ appointment.client_lastName }}</td>
								<td>{{ appointment.cancellation_reason }}</td>	
							</tr>
                        </tbody>
                	</table>
              	</div>
            </div>
        </div>
	</div>

    
	
		</div>
	  	<!-- End of Main Content -->

	  	<!-- Footer -->
	  	<footer class="sticky-footer bg-white">
			<div class="container my-auto">
		  		<div class="copyright text-center my-auto">
					<span>Copyright &copy; Barbershop Website by JAIRI IDRISS 2020</span>
		  		</div>
			</div>
	  	</footer>
	  	<!-- End of Footer -->

	</div>
	<!-- End of Content Wrapper -->

</div>
<!-- End of Page Wrapper -->

<!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
		  		<h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
		  		<button class="close" type="button" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">×</span>
		  		</button>
			</div>
			<div class="modal-body">
				Select "Logout" below if you are ready to end your current session.
			</div>
			<div class="modal-footer">
		  		<button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
		  		<a class="btn btn-primary" href="logout.php">Logout</a>
			</div>
	  	</div>
	</div>
</div>



</body>

